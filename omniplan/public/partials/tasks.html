<div ng-hide="isLoggedIn()">
  <h3>Please <a href="/#/login">Log In</a> or <a href="/#/register">Register</a> to access the tasks.</h3>
</div>

<div ng-show="isLoggedIn()">
  <div class="page-header">
    <h1>Next tasks</h1>
  </div>

  <ul class="list-group">
    <li ng-repeat="task in tasks" class="list-group-item">
      <ul class="list-inline" ng-mouseenter="currentTarget=$index" ng-mouseleave="currentTarget=-1">
        <li class="vcenter">
          <h4 class=>{{task.title}}</h4>
        </li>
        <li class="vcenter">
          <span class="label label-default">{{task.totalTime | toHMS }}</span> 
        </li>

        <li class="pull-right vcenter">
          <span ng-show="isRunning(task)">Session: {{ (currentTime - task.startTime)/1000.0 | toHMS }}</span>
        </li>
        <li class="pull-right vcenter" ng-show="currentTarget==$index">
          <button ng-show="isRunning(task)" class="btn btn-default .navbar-right"
            ng-click="stopTask(task)"><i class="fa fa-stop fa-lg"></i> Stop</button>
          <button ng-hide="isRunning(task)" class="btn btn-default .navbar-right"
            ng-click="startTask(task)"><i class="fa fa-play fa-lg"></i> Start</button>            
          <button class="btn btn-success .navbar-right"
            ng-click="closeTask(task)">Close</button>
          <button class="btn btn-danger .navbar-right" 
            ng-click="deleteTask(task)"><i class="fa fa-trash-o fa-lg"></i> Delete</button>
        </li>
      </ul>
      <div>{{task.user}}{{task.description=="" ? " - No description" : " - "+task.description}}</div>
    </li>
  </ul>
</div>
